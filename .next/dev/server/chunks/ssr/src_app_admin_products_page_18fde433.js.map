{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/kartik/Desktop/Client/SainVandeBharat-Frontend/src/app/admin/products/page.js"],"sourcesContent":["// src/app/admin/products/page.jsx\n\"use client\";\n\nimport React, { useState } from \"react\";\n\nconst initialProducts = [\n  {\n    id: 1,\n    name: \"Handmade Wooden Bowl\",\n    categoryId: 3,\n    price: 1499,\n    currency: \"INR\",\n    image: \"\",\n    variants: [{ id: \"v1\", name: \"Small\" }, { id: \"v2\", name: \"Large\" }],\n    createdAt: \"2025-12-02\",\n  },\n  {\n    id: 2,\n    name: \"Embroidered Cushion\",\n    categoryId: 2,\n    price: 799,\n    currency: \"INR\",\n    image: \"\",\n    variants: [],\n    createdAt: \"2025-11-20\",\n  },\n];\n\nconst sampleCategories = [\n  { id: 1, name: \"Home Decor\" },\n  { id: 2, name: \"Handicrafts\" },\n  { id: 3, name: \"Wooden Bowls\" },\n];\n\nexport default function ProductsPage() {\n  const [products, setProducts] = useState(initialProducts);\n  const [categories] = useState(sampleCategories);\n\n  // form state\n  const [showModal, setShowModal] = useState(false);\n  const [editing, setEditing] = useState(null);\n  const [name, setName] = useState(\"\");\n  const [categoryId, setCategoryId] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const [variants, setVariants] = useState([{ id: Date.now().toString(), name: \"\" }]);\n\n  const resetForm = () => {\n    setEditing(null);\n    setName(\"\");\n    setCategoryId(\"\");\n    setPrice(\"\");\n    setImage(\"\");\n    setVariants([{ id: Date.now().toString(), name: \"\" }]);\n  };\n\n  const openCreate = () => {\n    resetForm();\n    setShowModal(true);\n  };\n\n  const openEdit = (p) => {\n    setEditing(p);\n    setName(p.name);\n    setCategoryId(p.categoryId || \"\");\n    setPrice(p.price || \"\");\n    setImage(p.image || \"\");\n    setVariants(p.variants.length ? p.variants.map(v => ({ ...v })) : [{ id: Date.now().toString(), name: \"\" }]);\n    setShowModal(true);\n  };\n\n  const saveProduct = () => {\n    if (!name.trim()) return alert(\"Product name required\");\n    if (!categoryId) return alert(\"Select category\");\n    const payload = {\n      id: editing ? editing.id : Date.now(),\n      name: name.trim(),\n      categoryId: Number(categoryId),\n      price: Number(price || 0),\n      currency: \"INR\",\n      image: image.trim(),\n      variants: variants.filter(v => v.name.trim()),\n      createdAt: editing ? editing.createdAt : new Date().toISOString().slice(0,10),\n    };\n\n    if (editing) {\n      setProducts(prev => prev.map(p => p.id === editing.id ? payload : p));\n    } else {\n      setProducts(prev => [payload, ...prev]);\n    }\n    setShowModal(false);\n    resetForm();\n  };\n\n  const deleteProduct = (id) => {\n    if (!confirm(\"Delete product?\")) return;\n    setProducts(prev => prev.filter(p => p.id !== id));\n  };\n\n  // variants helpers\n  const updateVariant = (id, value) => {\n    setVariants(prev => prev.map(v => v.id === id ? { ...v, name: value } : v));\n  };\n  const addVariant = () => setVariants(prev => [...prev, { id: Date.now().toString(), name: \"\" }]);\n  const removeVariant = (id) => setVariants(prev => prev.filter(v => v.id !== id));\n\n  const findCategory = (id) => categories.find(c => c.id === id)?.name || \"—\";\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-xl font-semibold\">Products</h2>\n          <p className=\"text-sm text-gray-500\">Manage products, categories, pricing and variants.</p>\n        </div>\n\n        <div>\n          <button onClick={openCreate} className=\"px-3 py-2 rounded-md bg-emerald-600 text-white text-sm hover:bg-emerald-700 transition\">\n            + Add Product\n          </button>\n        </div>\n      </div>\n\n      <div className=\"bg-white rounded-xl p-4 shadow-xs border border-gray-200\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h3 className=\"text-base font-semibold\">Product List</h3>\n          <div className=\"text-sm text-gray-500\">{products.length} total</div>\n        </div>\n\n        <div className=\"overflow-x-auto rounded-md\">\n          <table className=\"w-full text-left border-collapse\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"py-2 px-4 text-xs font-medium text-gray-600\">Product</th>\n                <th className=\"py-2 px-4 text-xs font-medium text-gray-600\">Category</th>\n                <th className=\"py-2 px-4 text-xs font-medium text-gray-600\">Price</th>\n                <th className=\"py-2 px-4 text-xs font-medium text-gray-600\">Variants</th>\n                <th className=\"py-2 px-4 text-xs font-medium text-gray-600\">Image</th>\n                <th className=\"py-2 px-4 text-xs font-medium text-gray-600\">Action</th>\n              </tr>\n            </thead>\n\n            <tbody className=\"border-t border-gray-300 divide-y divide-gray-200\">\n              {products.map(p => (\n                <tr key={p.id}>\n                  <td className=\"py-2 px-4 text-sm font-medium\">{p.name}</td>\n                  <td className=\"py-2 px-4 text-sm text-gray-700\">{findCategory(p.categoryId)}</td>\n                  <td className=\"py-2 px-4 text-sm\">{p.currency} {p.price.toLocaleString()}</td>\n                  <td className=\"py-2 px-4 text-sm\">\n                    {p.variants.length ? p.variants.map(v => v.name).join(\", \") : \"—\"}\n                  </td>\n                  <td className=\"py-2 px-4 text-sm\">\n                    {p.image ? <img src={p.image} alt={p.name} className=\"h-10 w-10 object-cover rounded\" /> : \"—\"}\n                  </td>\n                  <td className=\"py-2 px-4 text-sm\">\n                    <div className=\"flex items-center gap-2\">\n                      <button onClick={() => openEdit(p)} className=\"px-3 py-1 rounded-md border border-gray-200 text-sm hover:bg-gray-50\">Edit</button>\n                      <button onClick={() => deleteProduct(p.id)} className=\"px-3 py-1 rounded-md border border-red-200 text-sm text-red-600 hover:bg-red-50\">Delete</button>\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n\n        <div className=\"mt-4 flex items-center justify-end\">\n          <div className=\"text-sm text-gray-500\">1</div>\n        </div>\n      </div>\n\n      {/* modal */}\n      {showModal && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-6\">\n          <div className=\"absolute inset-0 bg-black/30\" onClick={() => setShowModal(false)} />\n          <div className=\"relative w-full max-w-2xl bg-white rounded-xl shadow-xl p-6\">\n            <h3 className=\"text-lg font-semibold mb-3\">{editing ? \"Edit Product\" : \"Add Product\"}</h3>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n              <div>\n                <label className=\"text-sm text-gray-600\">Product name</label>\n                <input className=\"mt-1 w-full rounded-md border border-gray-200 px-3 py-2 text-sm\" value={name} onChange={e => setName(e.target.value)} />\n              </div>\n\n              <div>\n                <label className=\"text-sm text-gray-600\">Category</label>\n                <select className=\"mt-1 w-full rounded-md border border-gray-200 px-3 py-2 text-sm\" value={categoryId} onChange={e => setCategoryId(e.target.value)}>\n                  <option value=\"\">Select category</option>\n                  {categories.map(c => <option key={c.id} value={c.id}>{c.name}</option>)}\n                </select>\n              </div>\n\n              <div>\n                <label className=\"text-sm text-gray-600\">Price</label>\n                <input type=\"number\" className=\"mt-1 w-full rounded-md border border-gray-200 px-3 py-2 text-sm\" value={price} onChange={e => setPrice(e.target.value)} />\n              </div>\n\n              <div>\n                <label className=\"text-sm text-gray-600\">Image URL (optional)</label>\n                <input className=\"mt-1 w-full rounded-md border border-gray-200 px-3 py-2 text-sm\" value={image} onChange={e => setImage(e.target.value)} />\n                {image && <img src={image} alt=\"preview\" className=\"mt-2 h-20 w-20 object-cover rounded\" />}\n              </div>\n\n              <div className=\"md:col-span-2\">\n                <label className=\"text-sm text-gray-600\">Variants</label>\n                <div className=\"space-y-2 mt-1\">\n                  {variants.map(v => (\n                    <div key={v.id} className=\"flex items-center gap-2\">\n                      <input className=\"flex-1 rounded-md border border-gray-200 px-3 py-2 text-sm\" value={v.name} onChange={e => updateVariant(v.id, e.target.value)} />\n                      <button onClick={() => removeVariant(v.id)} className=\"px-2 py-1 rounded-md border border-red-200 text-sm text-red-600\">Remove</button>\n                    </div>\n                  ))}\n                  <div>\n                    <button onClick={addVariant} className=\"px-3 py-1 rounded-md border border-gray-200 text-sm\">+ Add variant</button>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"mt-4 flex items-center justify-end gap-2\">\n              <button onClick={() => { setShowModal(false); resetForm(); }} className=\"px-3 py-1 rounded-md border border-gray-200\">Cancel</button>\n              <button onClick={saveProduct} className=\"px-3 py-1 rounded-md bg-emerald-600 text-white\">{editing ? \"Save\" : \"Create\"}</button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}