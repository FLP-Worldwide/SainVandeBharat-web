{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/kartik/Desktop/Client/SainVandeBharat-Frontend/src/app/admin/categories/page.js"],"sourcesContent":["// src/app/admin/categories/page.jsx\n\"use client\";\n\nimport React, { useState } from \"react\";\n\nconst initialCategories = [\n  { id: 1, name: \"Home Decor\", parentId: null, createdAt: \"2025-11-01\" },\n  { id: 2, name: \"Handicrafts\", parentId: null, createdAt: \"2025-11-10\" },\n  { id: 3, name: \"Wooden Bowls\", parentId: 1, createdAt: \"2025-11-18\" },\n];\n\nexport default function CategoriesPage() {\n  const [categories, setCategories] = useState(initialCategories);\n  const [showModal, setShowModal] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [parentId, setParentId] = useState(\"\");\n  const [editing, setEditing] = useState(null);\n\n  const resetForm = () => {\n    setName(\"\");\n    setParentId(\"\");\n    setEditing(null);\n  };\n\n  const handleOpenCreate = () => {\n    resetForm();\n    setShowModal(true);\n  };\n\n  const handleSave = () => {\n    if (!name.trim()) return alert(\"Category name required\");\n    if (editing) {\n      setCategories((prev) => prev.map((c) => (c.id === editing.id ? { ...c, name, parentId: parentId || null } : c)));\n    } else {\n      const newCat = {\n        id: Date.now(),\n        name: name.trim(),\n        parentId: parentId || null,\n        createdAt: new Date().toISOString().slice(0, 10),\n      };\n      setCategories((prev) => [newCat, ...prev]);\n    }\n    setShowModal(false);\n    resetForm();\n  };\n\n  const handleEdit = (cat) => {\n    setEditing(cat);\n    setName(cat.name);\n    setParentId(cat.parentId ?? \"\");\n    setShowModal(true);\n  };\n\n  const handleDelete = (id) => {\n    if (!confirm(\"Delete category?\")) return;\n    setCategories((prev) => prev.filter((c) => c.id !== id));\n  };\n\n  const findParentName = (id) => categories.find((c) => c.id === id)?.name || \"—\";\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-xl font-semibold\">Categories</h2>\n          <p className=\"text-sm text-gray-500\">Manage product categories and parent relationships.</p>\n        </div>\n        <div>\n          <button\n            onClick={handleOpenCreate}\n            className=\"px-3 py-2 rounded-md bg-emerald-600 text-white text-sm hover:bg-emerald-700 transition\"\n          >\n            + Add Category\n          </button>\n        </div>\n      </div>\n\n      <div className=\"bg-white rounded-xl p-4 shadow-xs border border-gray-200\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h3 className=\"text-base font-semibold\">Category List</h3>\n          <div className=\"text-sm text-gray-500\">{categories.length} total</div>\n        </div>\n\n        <div className=\"overflow-x-auto rounded-md\">\n          <table className=\"w-full text-left border-collapse\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"py-2 px-4 text-xs font-medium text-gray-600\">Name</th>\n                <th className=\"py-2 px-4 text-xs font-medium text-gray-600\">Parent</th>\n                <th className=\"py-2 px-4 text-xs font-medium text-gray-600\">Created</th>\n                <th className=\"py-2 px-4 text-xs font-medium text-gray-600\">Actions</th>\n              </tr>\n            </thead>\n\n            <tbody className=\"border-t border-gray-300 divide-y divide-gray-200\">\n              {categories.map((c) => (\n                <tr key={c.id}>\n                  <td className=\"py-2 px-4 text-sm font-medium\">{c.name}</td>\n                  <td className=\"py-2 px-4 text-sm text-gray-700\">{c.parentId ? findParentName(c.parentId) : \"—\"}</td>\n                  <td className=\"py-2 px-4 text-sm\">{c.createdAt}</td>\n                  <td className=\"py-2 px-4 text-sm\">\n                    <div className=\"flex items-center gap-2\">\n                      <button\n                        onClick={() => handleEdit(c)}\n                        className=\"px-3 py-1 rounded-md border border-gray-200 text-sm hover:bg-gray-50 transition\"\n                      >\n                        Edit\n                      </button>\n                      <button\n                        onClick={() => handleDelete(c.id)}\n                        className=\"px-3 py-1 rounded-md border border-red-200 text-sm text-red-600 hover:bg-red-50 transition\"\n                      >\n                        Delete\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n\n        <div className=\"mt-4 flex items-center justify-end\">\n          <div className=\"text-sm text-gray-500\">1</div>\n        </div>\n      </div>\n\n      {/* Modal */}\n      {showModal && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-6\">\n          <div className=\"absolute inset-0 bg-black/30\" onClick={() => setShowModal(false)} />\n          <div className=\"relative w-full max-w-lg bg-white rounded-xl shadow-xl p-6\">\n            <h3 className=\"text-lg font-semibold mb-2\">{editing ? \"Edit Category\" : \"Add Category\"}</h3>\n\n            <div className=\"space-y-3\">\n              <div>\n                <label className=\"text-sm text-gray-600\">Name</label>\n                <input\n                  className=\"mt-1 w-full rounded-md border border-gray-200 px-3 py-2 text-sm\"\n                  value={name}\n                  onChange={(e) => setName(e.target.value)}\n                />\n              </div>\n\n              <div>\n                <label className=\"text-sm text-gray-600\">Parent category (optional)</label>\n                <select\n                  className=\"mt-1 w-full rounded-md border border-gray-200 px-3 py-2 text-sm\"\n                  value={parentId}\n                  onChange={(e) => setParentId(e.target.value)}\n                >\n                  <option value=\"\">— none —</option>\n                  {categories\n                    .filter((c) => !editing || c.id !== editing.id) // don't allow self parent\n                    .map((c) => (\n                      <option key={c.id} value={c.id}>\n                        {c.name}\n                      </option>\n                    ))}\n                </select>\n              </div>\n\n              <div className=\"flex items-center justify-end gap-2 pt-2\">\n                <button onClick={() => setShowModal(false)} className=\"px-3 py-1 rounded-md border border-gray-200\">\n                  Cancel\n                </button>\n                <button onClick={handleSave} className=\"px-3 py-1 rounded-md bg-emerald-600 text-white\">\n                  Save\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}